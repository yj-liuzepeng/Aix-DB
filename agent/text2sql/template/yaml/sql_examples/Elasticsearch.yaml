template:
  quot_rule: |
    <rule>
      å¿…é¡»å¯¹ç´¢å¼•åï¼ˆè¡¨åï¼‰ã€å­—æ®µåã€åˆ«åå¤–å±‚åŠ åŒå¼•å·ï¼ˆ"ï¼‰ã€‚
      <note>
        1. é€šé…ç¬¦ç´¢å¼•éœ€æ•´ä½“åŠ å¼•å·ï¼š`"logs-*"`
        2. åµŒå¥—å­—æ®µç”¨ç‚¹å·è¿æ¥ï¼š`"user.name"`
        3. æ—¶é—´å­—æ®µå¿…é¡»æ˜¾å¼è½¬æ¢ï¼š`CAST("@timestamp" AS TIMESTAMP)`
      </note>
    </rule>

  limit_rule: |
    <rule>
      å½“éœ€è¦é™åˆ¶è¡Œæ•°æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ ‡å‡†çš„LIMITè¯­æ³•
      <note>
        1. é¦–é€‰ï¼š`LIMIT [count]`
        2. åˆ†é¡µï¼š`LIMIT [count] OFFSET [start]`
        3. ç¦æ­¢ä½¿ç”¨ElasticsearchåŸç”Ÿ`size/from`å‚æ•°
      </note>
    </rule>

  other_rule: |
    <rule>å¿…é¡»ä¸ºæ¯ä¸ªç´¢å¼•ç”Ÿæˆåˆ«åï¼ˆä¸åŠ ASï¼‰</rule>
    <rule>ç¦æ­¢ä½¿ç”¨æ˜Ÿå·(*)ï¼Œå¿…é¡»æ˜ç¡®å­—æ®µå</rule>
    <rule>ä¸­æ–‡/ç‰¹æ®Šå­—ç¬¦å­—æ®µéœ€ä¿ç•™åŸåå¹¶æ·»åŠ è‹±æ–‡åˆ«å</rule>
    <rule>å‡½æ•°å­—æ®µå¿…é¡»åŠ åˆ«å</rule>
    <rule>ç™¾åˆ†æ¯”æ˜¾ç¤ºä¸ºï¼š`ROUND(x*100,2) || '%'`</rule>
    <rule>é¿å…ä¸Elasticsearchå…³é”®å­—å†²çªï¼ˆå¦‚`score`/`type`ï¼‰</rule>

  basic_example: |
    <basic-examples>
      <intro>
        ğŸ“Œ ä»¥ä¸‹ç¤ºä¾‹ä¸¥æ ¼éµå¾ª<Rules>ä¸­çš„ Elasticsearch è§„èŒƒï¼Œå±•ç¤ºç¬¦åˆè¦æ±‚çš„ SQL å†™æ³•ä¸å…¸å‹é”™è¯¯æ¡ˆä¾‹ã€‚
        âš ï¸ æ³¨æ„ï¼šç¤ºä¾‹ä¸­çš„è¡¨åã€å­—æ®µåå‡ä¸ºæ¼”ç¤ºè™šæ„ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€æ›¿æ¢ä¸ºç”¨æˆ·æä¾›çš„çœŸå®æ ‡è¯†ç¬¦ã€‚
        ğŸ” é‡ç‚¹è§‚å¯Ÿï¼š
          1. åŒå¼•å·åŒ…è£¹æ‰€æœ‰æ•°æ®åº“å¯¹è±¡çš„è§„èŒƒç”¨æ³•
          2. ä¸­è‹±åˆ«å/ç™¾åˆ†æ¯”/å‡½æ•°ç­‰ç‰¹æ®Šå­—æ®µçš„å¤„ç†
          3. å…³é”®å­—å†²çªçš„è§„é¿æ–¹å¼
      </intro>
      <example>
        <input>æŸ¥è¯¢ logs-* ç´¢å¼•çš„å‰100æ¡é”™è¯¯æ—¥å¿—ï¼ˆå«æ—¶é—´è¿‡æ»¤ï¼‰</input>
        <output-bad>
          SELECT * FROM logs-* WHERE level = 'error' LIMIT 100  -- é”™è¯¯1ï¼šä½¿ç”¨æ˜Ÿå·
          SELECT message FROM "logs-*" WHERE @timestamp > NOW() - 1d  -- é”™è¯¯2ï¼šæœªè½¬æ¢æ—¶é—´
          SELECT "message", "@timestamp" FROM "logs-*" LIMIT 100  -- é”™è¯¯3ï¼šæœªå¤„ç†æ—¶é—´å­—æ®µ
        </output-bad>
        <output-good>
          SELECT 
            "l"."message" AS "log_content",
            "l"."host.ip" AS "client_ip",
            CAST("l"."@timestamp" AS TIMESTAMP) AS "log_time"
          FROM "logs-*" "l"
          WHERE "l"."level" = 'error'
          AND CAST("l"."@timestamp" AS TIMESTAMP) > DATE_SUB(NOW(), INTERVAL 1 DAY)
          LIMIT 100
        </output-good>
      </example>

      <example>
        <input>ç»Ÿè®¡å„åœ°åŒºçš„é”™è¯¯æ—¥å¿—å æ¯”ï¼ˆTop 5ï¼‰</input>
        <output-bad>
          SELECT region, COUNT(*) FROM "logs-*" GROUP BY region  -- é”™è¯¯1ï¼šä½¿ç”¨COUNT(*)
          SELECT "region", MAX("count") FROM "logs-*" GROUP BY 1  -- é”™è¯¯2ï¼šä½¿ç”¨åºå·åˆ†ç»„
        </output-bad>
        <output-good>
          SELECT 
            "l"."region" AS "area",
            COUNT("l"."message") AS "error_count",
            ROUND(COUNT("l"."message") * 100.0 / SUM(COUNT("l"."message")) OVER (), 2) || '%' AS "error_percent"
          FROM "logs-*" "l"
          WHERE "l"."level" = 'error'
          GROUP BY "l"."region"
          ORDER BY "error_count" DESC
          LIMIT 5
        </output-good>
      </example>
    </basic-examples>

  example_engine: Elasticsearch SQL 8.9
  example_answer_1: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"continent\" AS \"continent_name\", \"year\" AS \"year\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" ORDER BY \"country\", \"year\"","tables":["sample_country_gdp"],"chart-type":"line"}
  example_answer_1_with_limit: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"continent\" AS \"continent_name\", \"year\" AS \"year\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" ORDER BY \"country\", \"year\" LIMIT 1000","tables":["sample_country_gdp"],"chart-type":"line"}
  example_answer_2: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" WHERE \"year\" = '2024' ORDER BY \"gdp\" DESC","tables":["sample_country_gdp"],"chart-type":"pie"}
  example_answer_2_with_limit: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" WHERE \"year\" = '2024' ORDER BY \"gdp\" DESC LIMIT 1000","tables":["sample_country_gdp"],"chart-type":"pie"}
  example_answer_3: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" WHERE \"year\" = '2025' AND \"country\" = 'ä¸­å›½'","tables":["sample_country_gdp"],"chart-type":"table"}
  example_answer_3_with_limit: |
    {"success":true,"sql":"SELECT \"country\" AS \"country_name\", \"gdp\" AS \"gdp_usd\" FROM \"Sample_Database\".\"sample_country_gdp\" WHERE \"year\" = '2025' AND \"country\" = 'ä¸­å›½' LIMIT 1000","tables":["sample_country_gdp"],"chart-type":"table"}
