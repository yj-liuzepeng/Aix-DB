template:
  quot_rule: |
    <rule>
      å¿…é¡»å¯¹æ•°æ®åº“åã€è¡¨åã€å­—æ®µåã€åˆ«åå¤–å±‚åŠ æ–¹æ‹¬å·ï¼ˆ[]ï¼‰ã€‚
      <note>
        1. ç‚¹å·ï¼ˆ.ï¼‰ä¸èƒ½åŒ…å«åœ¨æ–¹æ‹¬å·å†…ï¼Œå¿…é¡»å†™æˆ [schema].[table]
        2. å½“æ ‡è¯†ç¬¦ä¸ºå…³é”®å­—ã€å«ç‰¹æ®Šå­—ç¬¦æˆ–éœ€ä¿ç•™å¤§å°å†™æ—¶å¿…é¡»åŠ æ–¹æ‹¬å·
        3. SQL Server æ ‡è¯†ç¬¦é»˜è®¤ä¸åŒºåˆ†å¤§å°å†™
      </note>
    </rule>

  limit_rule: |
    <rule>
      å½“éœ€è¦é™åˆ¶è¡Œæ•°æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ Microsoft SQL Server çš„SQLè¯­æ³•ï¼š
      <note>
        1. æ ‡å‡†å†™æ³•ï¼šTOP [count]
        2. åˆ†é¡µå†™æ³•ï¼šOFFSET [start] ROWS FETCH NEXT [count] ROWS ONLY
        3. ç¦æ­¢ä½¿ç”¨ MySQL çš„ LIMIT è¯­æ³•
      </note>
    </rule>

  other_rule: |
    <rule>å¿…é¡»ä¸ºæ¯ä¸ªè¡¨ç”Ÿæˆåˆ«åï¼ˆä¸åŠ ASï¼‰</rule>
    <rule>ç¦æ­¢ä½¿ç”¨æ˜Ÿå·(*)ï¼Œå¿…é¡»æ˜ç¡®å­—æ®µå</rule>
    <rule>ä¸­æ–‡/ç‰¹æ®Šå­—ç¬¦å­—æ®µéœ€ä¿ç•™åŸåå¹¶æ·»åŠ è‹±æ–‡åˆ«å</rule>
    <rule>å‡½æ•°å­—æ®µå¿…é¡»åŠ åˆ«å</rule>
    <rule>ç™¾åˆ†æ¯”æ˜¾ç¤ºä¸ºï¼šCONVERT(VARCHAR, ROUND(x*100,2)) + '%'</rule>
    <rule>é¿å…ä¸SQL Serverå…³é”®å­—å†²çªï¼ˆå¦‚[user]/[order]/[desc]ï¼‰</rule>

  basic_example: |
    <basic-examples>
      <intro>
        ğŸ“Œ ä»¥ä¸‹ç¤ºä¾‹ä¸¥æ ¼éµå¾ª<Rules>ä¸­çš„ Microsoft SQL Server è§„èŒƒï¼Œå±•ç¤ºç¬¦åˆè¦æ±‚çš„ SQL å†™æ³•ä¸å…¸å‹é”™è¯¯æ¡ˆä¾‹ã€‚
        âš ï¸ æ³¨æ„ï¼šç¤ºä¾‹ä¸­çš„è¡¨åã€å­—æ®µåå‡ä¸ºæ¼”ç¤ºè™šæ„ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€æ›¿æ¢ä¸ºç”¨æˆ·æä¾›çš„çœŸå®æ ‡è¯†ç¬¦ã€‚
        ğŸ” é‡ç‚¹è§‚å¯Ÿï¼š
          1. åŒå¼•å·åŒ…è£¹æ‰€æœ‰æ•°æ®åº“å¯¹è±¡çš„è§„èŒƒç”¨æ³•
          2. ä¸­è‹±åˆ«å/ç™¾åˆ†æ¯”/å‡½æ•°ç­‰ç‰¹æ®Šå­—æ®µçš„å¤„ç†
          3. å…³é”®å­—å†²çªçš„è§„é¿æ–¹å¼
      </intro>
      <example>
        <input>æŸ¥è¯¢ Sales.Orders è¡¨çš„å‰100æ¡è®¢å•ï¼ˆå«ä¸­æ–‡å­—æ®µå’Œç™¾åˆ†æ¯”ï¼‰</input>
        <output-bad>
          SELECT * FROM Sales.Orders  -- é”™è¯¯ï¼šä½¿ç”¨æ˜Ÿå·
          SELECT [è®¢å•ID], [é‡‘é¢] FROM [Sales].[Orders] [o]  -- é”™è¯¯ï¼šç¼ºå°‘è‹±æ–‡åˆ«å
          SELECT COUNT([è®¢å•ID]) FROM [Sales].[Orders] [o]  -- é”™è¯¯ï¼šå‡½æ•°æœªåŠ åˆ«å
        </output-bad>
        <output-good>
          SELECT TOP 100
            [o].[è®¢å•ID] AS [order_id],
            [o].[é‡‘é¢] AS [amount],
            COUNT([o].[è®¢å•ID]) AS [total_orders],
            CONVERT(VARCHAR, ROUND([o].[æŠ˜æ‰£ç‡] * 100, 2)) + '%' AS [discount_percent]
          FROM [Sales].[Orders] [o]
        </output-good>
      </example>

      <example>
        <input>ç»Ÿè®¡ç”¨æˆ·è¡¨ dbo.Usersï¼ˆå«å…³é”®å­—å­—æ®µuserï¼‰çš„æ´»è·ƒå æ¯”</input>
        <output-bad>
          SELECT user, status FROM dbo.Users  -- é”™è¯¯ï¼šæœªå¤„ç†å…³é”®å­—
          SELECT [user], ROUND(active_ratio*100) FROM [dbo].[Users]  -- é”™è¯¯ï¼šç™¾åˆ†æ¯”æ ¼å¼é”™è¯¯
        </output-bad>
        <output-good>
          SELECT 
            [u].[user] AS [user_name],
            CONVERT(VARCHAR, ROUND([u].[active_ratio] * 100, 2)) + '%' AS [active_percent]
          FROM [dbo].[Users] [u]
          WHERE [u].[status] = 1
          ORDER BY [u].[create_date]
          OFFSET 0 ROWS FETCH NEXT 1000 ROWS ONLY
        </output-good>
      </example>
    </basic-examples>

  example_engine: Microsoft SQL Server 2022
  example_answer_1: |
    {"success":true,"sql":"SELECT [country] AS [country_name], [continent] AS [continent_name], [year] AS [year], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] ORDER BY [country], [year]","tables":["sample_country_gdp"],"chart-type":"line"}
  example_answer_1_with_limit: |
    {"success":true,"sql":"SELECT TOP 1000 [country] AS [country_name], [continent] AS [continent_name], [year] AS [year], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] ORDER BY [country], [year]","tables":["sample_country_gdp"],"chart-type":"line"}
  example_answer_2: |
    {"success":true,"sql":"SELECT [country] AS [country_name], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] WHERE [year] = '2024' ORDER BY [gdp] DESC","tables":["sample_country_gdp"],"chart-type":"pie"}
  example_answer_2_with_limit: |
    {"success":true,"sql":"SELECT TOP 1000 [country] AS [country_name], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] WHERE [year] = '2024' ORDER BY [gdp] DESC","tables":["sample_country_gdp"],"chart-type":"pie"}
  example_answer_3: |
    {"success":true,"sql":"SELECT [country] AS [country_name], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] WHERE [year] = '2025' AND [country] = N'ä¸­å›½'","tables":["sample_country_gdp"],"chart-type":"table"}
  example_answer_3_with_limit: |
    {"success":true,"sql":"SELECT TOP 1000 [country] AS [country_name], [gdp] AS [gdp_usd] FROM [Sample_Database].[sample_country_gdp] WHERE [year] = '2025' AND [country] = N'ä¸­å›½'","tables":["sample_country_gdp"],"chart-type":"table"}
