# å¤§æ¨¡å‹æ•°æ®åŠ©æ‰‹
[![English](https://img.shields.io/badge/English-Click-yellow)](README-en.md)

ğŸŒŸ **é¡¹ç›®ç®€ä»‹**

ä¸€ä¸ªè½»é‡çº§ã€æ”¯æŒå…¨é“¾è·¯ä¸”æ˜“äºäºŒæ¬¡å¼€å‘çš„å¤§æ¨¡å‹åº”ç”¨é¡¹ç›® 

**å·²é›†æˆMCPå¤šæ™ºèƒ½ä½“æ¶æ„**

åŸºäº Dify ã€LangChain/LangGraphã€Ollama&Vllmã€Sanic å’Œ Text2SQL ğŸ“Š ç­‰æŠ€æœ¯æ„å»ºçš„ä¸€ç«™å¼å¤§æ¨¡å‹åº”ç”¨å¼€å‘é¡¹ç›®ï¼Œé‡‡ç”¨ Vue3ã€TypeScript å’Œ Vite 5 æ‰“é€ ç°ä»£UIã€‚å®ƒæ”¯æŒé€šè¿‡ 
ECharts ğŸ“ˆ 
å®ç°åŸºäºå¤§æ¨¡å‹çš„æ•°æ®å›¾å½¢åŒ–é—®ç­”ï¼Œå…·å¤‡å¤„ç† CSV æ–‡ä»¶ ğŸ“‚ è¡¨æ ¼é—®ç­”çš„èƒ½åŠ›ã€‚åŒæ—¶ï¼Œèƒ½æ–¹ä¾¿å¯¹æ¥ç¬¬ä¸‰æ–¹å¼€æº RAG ç³»ç»Ÿ æ£€ç´¢ç³»ç»Ÿ ğŸŒç­‰ï¼Œä»¥æ”¯æŒå¹¿æ³›çš„é€šç”¨çŸ¥è¯†é—®ç­”ã€‚

ä½œä¸ºè½»é‡çº§çš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘é¡¹ç›®ï¼ŒSanic-Web ğŸ› ï¸ æ”¯æŒå¿«é€Ÿè¿­ä»£ä¸æ‰©å±•ï¼ŒåŠ©åŠ›å¤§æ¨¡å‹é¡¹ç›®å¿«é€Ÿè½åœ°ã€‚ğŸš€

## ğŸ³ å…³äºæŠ€æœ¯æ”¯æŒç”³æ˜
- **å¼€æºä¸æ˜“,æœ¬äººç²¾åŠ›å’Œæ—¶é—´æœ‰é™ï¼Œå¦‚éœ€ä¸€å¯¹ä¸€æŠ€æœ¯æ”¯æŒå¯ä»¥èµåŠ©ä¸€æ³¢^_^è”ç³»å¾®ä¿¡(å¤‡æ³¨ æŠ€æœ¯æ”¯æŒ)**
- **ä¸€å¯¹ä¸€æŠ€æœ¯æ”¯æŒ æˆ‘å°†äº²è‡ªè¿œç¨‹å¸®æ‚¨é…ç½®å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œå¯åŠ¨ã€å¹¶è®²è§£é¡¹ç›®æ¶æ„ä»¥åŠäºŒå¼€æ€è·¯ç­‰**
- **é•¿æœŸæŠ€æœ¯æ”¯æŒæ–¹å¼ æ‹‰ä½ åŠ å…¥VIPç¾¤(ä¸€çº¿ç®—æ³•æ¶æ„ç¾¤)ï¼Œä¸ºä½ æä¾›æŠ€æœ¯æŒ‡å¯¼ï¼Œå¤§æ¨¡å‹é¡¹ç›®è§£å†³æ–¹æ¡ˆç­‰**

## ğŸ’¼ å•†åŠ¡åˆä½œ
- **æˆ‘ä»¬èƒ½æ‰¿æ¥ å†™ä½œç±»ã€æŠ¥å‘Šç±»ã€æ•°æ®é—®ç­”ã€è¡¨æ ¼é—®ç­”ç­‰å…·ä½“å‚ç›´ä¸šåŠ¡åœºæ™¯çš„é¡¹ç›®éœ€æ±‚ï¼Œæ¬¢è¿è”ç³»å¾®ä¿¡(å¤‡æ³¨ å•†åŠ¡åˆä½œ)**
### ğŸ“½ï¸ **å†™ä½œå‚ç±»èƒ½åŠ›**

| é’ˆå¯¹é¢†åŸŸ |                         æ ¸å¿ƒèƒ½åŠ›                          |
|:----:|:-----------------------------------------------------:|
| é‡‘èæŠ•ç ” | â—¼ è‡ªåŠ¨ç”Ÿæˆè¡Œç ”æ¡†æ¶ï¼ˆå®è§‚/èµ›é“/å…¬å¸ï¼‰ â—¼ è´¢åŠ¡æ¨¡å‹æ™ºèƒ½æ­å»ºï¼ˆDCF/Compsï¼‰ â—¼ ç›‘ç®¡æŠ«éœ²åˆè§„æ ¡å‡† |
| åŒ»ç–—å¥åº· |         â—¼ ä¸´åºŠç®¡çº¿åˆ†ææŠ¥å‘Š â—¼ åŒ»ç–—å™¨æ¢°å®¡æ‰¹è·¯å¾„è§£è¯» â—¼ å…¨çƒè¯æ”¿æ•°æ®åº“å®æ—¶è”åŠ¨         |
| ç§‘æŠ€äº§ä¸š |           â—¼ æŠ€æœ¯è·¯çº¿å›¾ç”Ÿæˆ â—¼ ä¸“åˆ©å¼ºåº¦ä¸‰ç»´è¯„ä¼° â—¼ ä¾›åº”é“¾é£é™©ç©¿é€å·¥å…·            |
| æ³•å¾‹å°½è°ƒ |           â—¼ äº¤æ˜“æ–‡ä»¶æ™ºèƒ½æ‘˜è¦ â—¼ ç›‘ç®¡å˜æ›´å½±å“æŠ¥å‘Š â—¼ å¸æ³•åˆ¤ä¾‹å†²çªç‚¹æ‰«æ           |
| èƒ½æºç¯ä¿ |         â—¼ æ”¿ç­–è¡¥è´´è®¡ç®—å™¨ â—¼ ç¢³æ’æ”¾å¼ºåº¦æ¨æ¼”æ¨¡å‹ â—¼ åŸºç¡€è®¾æ–½æŠ•èµ„å›æŠ¥åˆ†ææ¡†æ¶          |

#### ğŸ¬ **å†™ä½œåŠŸèƒ½æ¼”ç¤º**


https://github.com/user-attachments/assets/923758a3-4879-4836-852b-691413da372e



|               å¾®ä¿¡               |
|:------------------------------:| 
| ![image](./docker/images/img.png) | 




## æ¶æ„æ–¹æ¡ˆ
![image](./docker/images/app-01.png)

## ğŸ‰ **ç‰¹æ€§**
- **æ ¸å¿ƒæŠ€æœ¯æ ˆ**ï¼šDify + Ollama + RAG + (Qwen3/DeepSeek) + Text2SQL + MCP
- **UI æ¡†æ¶**ï¼šVue 3 + TypeScript + Vite 5
- **æ•°æ®é—®ç­”**ï¼šé›†æˆ EChartså¤§æ¨¡å‹å®ç°Text2SQLè½»é‡çº§çš„å›¾å½¢åŒ–æ•°æ®é—®ç­”å±•ç¤º
- **è¡¨æ ¼é—®ç­”**ï¼šæ”¯æŒ CSVæ ¼å¼æ–‡ä»¶çš„ä¸Šä¼ ä¸åŸºäºå¤§æ¨¡å‹æ€»ç»“é¢„å¤„ç†å’ŒText2SQLçš„è¡¨æ ¼æ•°æ®é—®ç­”
- **é€šç”¨é—®ç­”**ï¼šæ”¯æŒé€šç”¨æ•°æ®å½¢å¼é—®ç­”åŸºäºå¯¹æ¥ä¸‰æ–¹RAGç³»ç»Ÿ+å…¬ç½‘æ£€ç´¢æ¨¡å¼
- **åº”ç”¨æ¶æ„**ï¼šä½œä¸ºä¸€ä¸ªè½»é‡çº§å…¨é“¾è·¯ä¸€ç«™å¼å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ¡†æ¶æ–¹ä¾¿æ‰©å±•è½åœ°
- **çµæ´»éƒ¨ç½²**ï¼šæ”¯æŒå¤§æ¨¡å‹åº”ç”¨å¼€å‘å„ä¾èµ–ç»„ä»¶docker-composeä¸€é”®æ‹‰èµ·å¿«é€Ÿéƒ¨ç½²é›¶é…ç½®

## è¿è¡Œæ•ˆæœ
![image](./docker/images/chat-04.gif)
![image](./docker/images/chat-05.png)
![image](./docker/images/chat-01.png)
![image](./docker/images/chat-02.png)


## ğŸ’¡ç¯å¢ƒé…ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹æœ€ä½é…ç½®è¦æ±‚ï¼š

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11, macOs Mç³»åˆ—, Centos/Ubuntu
- **GPU**: æœ¬åœ°ä½¿ç”¨ollamaéƒ¨ç½²ï¼Œæ¨èä½¿ç”¨Nvidiaæ˜¾å¡æˆ–CPUæ¨¡å¼ã€‚æˆ–å…¬ç½‘è´­ä¹°APIKEYå½¢å¼
- **å†…å­˜**ï¼š8GB+

## ğŸ”§ **å‰ç½®æ¡ä»¶**
* Python 3.11.x
* uv 0.8.0+
* Dify 0.7.1+
* Mysql 8.0+
* Node.js 18.12.x+
* Pnpm 9.x


## ğŸ“š **å¤§æ¨¡å‹é€‰æ‹©**
- è´­ä¹°å…¬ç½‘å¤§æ¨¡å‹[é˜¿é‡Œäº‘å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡APIKEY](http://aliyun.com/product/bailian)
- æ¨¡å‹è¦æ±‚: Qwen3/Qwen-Plus/Deepseek æ¨¡å‹

## âš™ï¸ **Difyç¯å¢ƒé…ç½®**
1. **å®‰è£…Dify**
   - [å®˜æ–¹å‚è€ƒæ–‡æ¡£](https://docs.dify.ai/zh-hans)
   - ä¸ºäº†å…¼é¡¾ç¬¬ä¸€æ¬¡æ¥è§¦å¤§æ¨¡å‹åº”ç”¨çš„åŒå­¦ï¼Œæœ¬é¡¹ç›®æä¾›äº†ä¸€é”®æ‹‰èµ·DifyæœåŠ¡æ–¹ä¾¿å¤§å®¶å¿«é€Ÿä½“éªŒã€‚
   - Difyæœ¬æœºè®¿é—®åœ°å€ï¼šhttp://localhost:18000 è´¦å·/å¯†ç : éœ€è‡ªå·±æ³¨å†Œ 
   ```bash
   # æ‹‰èµ·å†…ç½®çš„difyæœåŠ¡
   cd docker/dify/docker
   docker-compose up -d
   
2. **Difyé…ç½®**
   - è´­ä¹°[é˜¿é‡Œäº‘å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡APIKEY](http://aliyun.com/product/bailian)
   - å¯¼å…¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„**docker/docker/dify/æ•°æ®é—®ç­”_v1.1.5_qwen_plus.ymlç”»å¸ƒ** 
   - è·å–ç”»å¸ƒå¯¹åº”çš„api-keyå…ˆå¤åˆ¶å‡ºæ¥ä¸‹é¢æ­¥éª¤ä¼šä½¿ç”¨
   - å¯¼å…¥ç”»å¸ƒåéœ€è¦æ‰‹åŠ¨é€‰æ‹©ä¸€ä¸‹ä½ æœ¬åœ°é…ç½®çš„å¤§æ¨¡å‹å¹¶ä¿å­˜

![image](./docker/images/llm-setting.png)
![image](./docker/images/import-convas.png)
![image](./docker/images/convas-api-key.png)

## âš™ï¸ **MCP-HUBç¯å¢ƒé…ç½®**
1. **å®‰è£…MCP-HUB**
```bash
git clone https://github.com/apconw/sanic-web.git
cd docker
docker compose up -d mcphub
```

2. **MCP-HUBé…ç½®**
- [ç™»å½•MCP-HU](http://localhost:3300/) admin/admin123
- å®‰è£…CMPå·¥å…·
![image](./docker/images/mcp-01.png)


## ğŸš€ **å¿«é€Ÿä½“éªŒ**
   - å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š
   - ç¬¬ä¸€æ­¥å…‹éš†ä»£ç åˆ°æœ¬åœ°
   - ç¬¬äºŒæ­¥Difyç¯å¢ƒé…ç½®ç›´æ¥å‚è€ƒä¸Šé¢**Difyç¯å¢ƒé…ç½®** **è¿™æ­¥å¾ˆé‡è¦!!!!**
   - ç¬¬ä¸‰æ­¥ç¡®è®¤Difyç”»å¸ƒå’Œå¤§æ¨¡å‹å·²ç»å¯¼å…¥å¹¶é…ç½®æˆ
   - ç¬¬å››æ­¥å¯åŠ¨æœåŠ¡å…·ä½“æ­¥éª¤å¦‚ä¸‹:

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/apconw/sanic-web.git

2. **å¯åŠ¨æœåŠ¡**
   - ä¿®æ”¹docker-composeé‡Œçš„ç¯å¢ƒå˜é‡(é…ç½®æ–‡ä»¶åœ¨docker/docker-compose.yml)
      - ä¿®æ”¹**DIFY_SERVER_URL** DifyæœåŠ¡åœ°å€,æœ¬åœ°å¯åŠ¨é»˜è®¤ä¸ç”¨ä¿®æ”¹
      - ä¿®æ”¹**DIFY_DATABASE_QA_API_KEY** Difyæ™ºèƒ½ä½“api-key,æœ¬åœ°å¯åŠ¨é»˜è®¤ä¸ç”¨ä¿®æ”¹
      - ä¿®æ”¹**MODEL_BASE_URL** å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡åœ°å€å¦‚ä½¿ç”¨é˜¿é‡Œäº‘å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡,é»˜è®¤ä¸ç”¨ä¿®æ”¹
      - ä¿®æ”¹**MODEL_NAME** å¤§æ¨¡å‹åç§°å¦‚Qwen-Plus
      - ä¿®æ”¹**MODEL_API_KEY** å¤§æ¨¡å‹æœåŠ¡APIKEY
      - ä¿®æ”¹**MCP_HUB_URL** MCP_HUBæœåŠ¡åœ°å€æœ¬åœ°å¯åŠ¨,é»˜è®¤ä¸ç”¨ä¿®æ”¹
       ```bash
       # æ‹‰èµ·å‰åç«¯æœåŠ¡å’Œä¸­é—´ä»¶
       cd docker
       docker compose up -d
   
3. **Minioé…ç½®**
   - è®¿é—®MinIOæœåŠ¡ï¼Œhttp://localhost:19001/ è´¦å·:admin å¯†ç :12345678
   - åˆ›å»ºä¸€ä¸ªbucketï¼Œåç§°filedataï¼ŒåŒæ—¶é…ç½®Access Key
   - ä¿®æ”¹docker-composeé‡Œçš„chat-serviceæœåŠ¡çš„MINIO_å¼€å¤´çš„ç¯å¢ƒå˜é‡é‡å¯æœåŠ¡

   ```bash
   # é‡æ–°æ‹‰èµ·å‰åç«¯æœåŠ¡å’Œä¸­é—´ä»¶
   cd docker
   docker compose up -d

4. **æ•°æ®åˆå§‹åŒ–**
   ```bash
   
   # å®‰è£…ä¾èµ–åŒ…
   pip install pymysql
   
   # Mac or Linux ç”¨æˆ·æ‰§è¡Œ
   
   cd docker
   ./init_data.sh
   
   # Windows ç”¨æˆ·æ‰§è¡Œ
   
   cd common
   python initialize_mysql.py
   
   
   
5. **è®¿é—®æœåŠ¡**
 - å‰ç«¯æœåŠ¡ï¼šhttp://localhost:8081


## ğŸ› ï¸ **æœ¬åœ°å¼€å‘**
- ç¬¬ä¸€æ­¥å…‹éš†ä»£ç åˆ°æœ¬åœ°
- ç¬¬äºŒæ­¥å‚è€ƒä¸Šé¢**è´­ä¹°å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡APIKEYå¹¶åœ¨Difyä¸­é…ç½®**
- ç¬¬ä¸‰æ­¥æœ¬åœ°å¼€å‘ç¯å¢ƒDifyé…ç½®ï¼Œå‚è€ƒä¸Šé¢ **Difyç¯å¢ƒé…ç½®é‡Œ è·å–Difyç”»å¸ƒçš„api-key åŒæ—¶ä¿®æ”¹.env.devæ–‡ä»¶é‡Œé¢çš„DIFY_DATABASE_QA_API_KEY**
- ç¬¬å››æ­¥æœ¬åœ°å¼€å‘ç¯å¢ƒMinioé…ç½®,ä¿®æ”¹env.devæ–‡ä»¶é‡Œé¢çš„Minioç›¸å…³å¯†é’¥ä¿¡æ¯
- ç¬¬äº”æ­¥å®‰è£…å‰åç«¯é¡¹ç›®ä¾èµ–å¹¶å¯åŠ¨å‰åç«¯æœåŠ¡å…·ä½“æ­¥éª¤å¦‚ä¸‹:

1. **åç«¯ä¾èµ–å®‰è£…**  
   - uvå®‰è£… [å‚è€ƒuvå®˜æ–¹æ–‡æ¡£](https://docs.astral.sh/uv/getting-started/installation/)
   ```bash
   # å®‰è£…uv
   curl -LsSf https://astral.sh/uv/install.sh | sh
   
   #å…‹éš†ä»£ç åˆ°æœ¬åœ°
   git clone https://github.com/apconw/sanic-web.git
   
   #è¿›å…¥é¡¹ç›®ç›®å½•
   cd sanic-web

   # åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   uv venv --clear

   # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
   
   # Mac or Linux ç”¨æˆ·æ‰§è¡Œ
   source .venv/bin/activate

   # Windows ç”¨æˆ·æ‰§è¡Œ
   .venv\Scripts\activate
   
   # å®‰è£…ä¾èµ–
   uv sync --no-cache
   
   # pycharm é…ç½®è™šæ‹Ÿç¯å¢ƒ
   Settings -> Project: sanic-web -> Project Interpreter -> Add -> Existing environment
   é€‰æ‹©.venvç›®å½•

2. **å®‰è£…ä¸­é—´ä»¶**
   ```bash
   cd docker
   docker compose up -d mysql minio mcphub
   
3. **ä¿®æ”¹.env.devé…ç½®æ–‡ä»¶**
- ä¿®æ”¹minioçš„é…ç½®
   - è®¿é—®MinIOæœåŠ¡ï¼Œhttp://localhost:19001/ è´¦å·:admin å¯†ç :12345678
   - åˆ›å»ºä¸€ä¸ªbucketï¼Œåç§°filedataï¼ŒåŒæ—¶é…ç½®Access Key
   - ä¿®æ”¹.evn.devé‡Œçš„MINIO_å¼€å¤´çš„å¯†é’¥æ¶ˆæ¯
- ä¿®æ”¹å¤§æ¨¡å‹&MCP-HUBé…ç½®
  - ä¿®æ”¹**MODEL_BASE_URL** å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡åœ°å€å¦‚ä½¿ç”¨é˜¿é‡Œäº‘å…¬ç½‘å¤§æ¨¡å‹æœåŠ¡,é»˜è®¤ä¸ç”¨ä¿®æ”¹
  - ä¿®æ”¹**MODEL_NAME** å¤§æ¨¡å‹åç§°å¦‚Qwen-Plus
  - ä¿®æ”¹**MODEL_API_KEY** å¤§æ¨¡å‹æœåŠ¡APIKEY
  - ä¿®æ”¹**MCP_HUB_URL** MCP_HUBæœåŠ¡åœ°å€æœ¬åœ°å¯åŠ¨,é»˜è®¤ä¸ç”¨ä¿®æ”¹
   
4. **åˆå§‹åŒ–æ•°æ®åº“**
   - å¦‚æœä½¿ç”¨æœ¬åœ°ç¯å¢ƒmysql,åˆå§‹åŒ–æ•°æ®æ—¶éœ€ä¿®æ”¹æºç initialize_mysqlï¼Œä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯å³å¯
   ```bash
    # Mac or Linux ç”¨æˆ·æ‰§è¡Œ
     cd docker
     ./init_data.sh
      
    # Windows ç”¨æˆ·æ‰§è¡Œ
      
     cd common
     python initialize_mysql.py

5. **å‰ç«¯ä¾èµ–å®‰è£…**  
   - å‰ç«¯æ˜¯åŸºäºå¼€æºé¡¹ç›®[å¯å‚è€ƒchatgpt-vue3-light-mvpå®‰è£…](https://github.com/pdsuwwz/chatgpt-vue3-light-mvp)äºŒå¼€
   ```bash
   # å®‰è£…å‰ç«¯ä¾èµ–&å¯åŠ¨æœåŠ¡
   cd web
   
   #å®‰è£…ä¾èµ–
   npm install -g pnpm

   pnpm i
   
   #å¯åŠ¨æœåŠ¡
   pnpm dev
   
6. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   #å¯åŠ¨åç«¯æœåŠ¡
   python serv.py
   ```

7. **è®¿é—®æœåŠ¡**
 - å‰ç«¯æœåŠ¡ï¼šhttp://localhost:2048

## ğŸ³ æ„å»ºé•œåƒ

- æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š
   ```bash
   # æ„å»ºå‰ç«¯é•œåƒ 
   make web-build
  
   # æ„å»ºåç«¯é•œåƒ
   make service-build


## ğŸŒ¹ æ”¯æŒ

å¦‚æœä½ å–œæ¬¢è¿™ä¸ªé¡¹ç›®æˆ–å‘ç°æœ‰ç”¨ï¼Œå¯ä»¥ç‚¹å³ä¸Šè§’ [`Star`](https://github.com/apconw/sanic-web) æ”¯æŒä¸€ä¸‹ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘ä»¬ä¸æ–­æ”¹è¿›çš„åŠ¨åŠ›ï¼Œæ„Ÿè°¢ï¼ ^_^

## â­ Star History
 [![Star History Chart](https://api.star-history.com/svg?repos=apconw/sanic-web&type=Date)](https://star-history.com/#apconw/sanic-web&Date)


## QAäº¤æµç¾¤
- å¤§æ¨¡å‹åº”ç”¨äº¤æµç¾¤æ¬¢è¿å¤§å®¶, æ¬¢è¿åŠ è¿›ç¾¤è®¨è®ºåˆ†äº«ç»éªŒ
- å…³æ³¨ä¸‹é¢çš„å…¬ä¼—å·ç‚¹å‡»Â·**å¾®ä¿¡ç¾¤**èœå•æ·»åŠ å¾®ä¿¡æ‹‰ä½ å…¥ç¾¤

|                   å¾®ä¿¡ç¾¤                   |
|:---------------------------------------:|
| ![image](./docker/images/wchat-search.png) | 

## License

[MIT](./LICENSE) License | Copyright Â© 2024-PRESENT [AiAdventurer](https://github.com/apconw)
